import{u as p,r as o,U as u,a as x,j as e,s as a,L as j,p as v,b as f,R as d}from"./index-B0vK3kFa.js";import{A as g}from"./auth.service-B7QOhIyC.js";const C=()=>{const{callEndpoint:t}=p(),{setToast:c}=o.useContext(u),[r,n]=o.useState(!1),s=x({initialValues:d.initialState,validationSchema:d.validatorSchemaFormRegister,validateOnMount:!1,onSubmit:async l=>{s.isValid&&(n(!0),await t(g.register(l))&&(c({type:"success",title:"Existo!",message:"Usuario registrado correctamente",duration:5e3}),s.resetForm()),n(!1))}}),h=l=>{const i=l.target.value.replace(/[^0-9]/g,""),{name:m}=l.target;s.setFieldValue(m,i)};return e.jsxs("div",{className:a.form_auth,children:[e.jsx("h3",{children:"ExpectIA"}),e.jsxs("form",{autoComplete:"off",onSubmit:s.handleSubmit,className:a.form_register,children:[e.jsxs("div",{className:a.form_input,children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"firstname",id:"firstname",disabled:r,value:s.values.firstname,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"Nombres"}),e.jsx("label",{htmlFor:"firstname",children:"Nombres"})]}),e.jsx("p",{children:s.touched.firstname&&s.errors.firstname})]}),e.jsxs("div",{className:a.form_input,children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"lastname",id:"lastname",disabled:r,value:s.values.lastname,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"Apellidos"}),e.jsx("label",{htmlFor:"lastname",children:"Apellidos"})]}),e.jsx("p",{children:s.touched.lastname&&s.errors.lastname})]}),e.jsxs("div",{className:a.form_input,children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"phone",id:"phone",disabled:r,maxLength:11,value:s.values.phone||"",onChange:h,onBlur:s.handleBlur,placeholder:"Teléfono"}),e.jsx("label",{htmlFor:"phone",children:"Teléfono"})]}),e.jsx("p",{children:s.touched.phone&&s.errors.phone})]}),e.jsxs("div",{className:a.form_input,children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",name:"company",id:"company",disabled:r,value:s.values.company,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"Empresa"}),e.jsx("label",{htmlFor:"company",children:" Empresa"})]}),e.jsx("p",{children:s.touched.company&&s.errors.company})]}),e.jsxs("div",{className:a.form_input,children:[e.jsxs("div",{children:[e.jsx("input",{type:"email",name:"email",id:"email",disabled:r,value:s.values.email,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"Correo"}),e.jsx("label",{htmlFor:"email",children:"Correo"})]}),e.jsx("p",{children:s.touched.email&&s.errors.email})]}),e.jsxs("div",{className:a.form_input,children:[e.jsxs("div",{children:[e.jsx("input",{name:"password",id:"password",disabled:r,value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"Contraseña",type:"password"}),e.jsx("label",{htmlFor:"password",children:"Contraseña"})]}),e.jsx("p",{children:s.touched.password&&s.errors.password})]}),e.jsxs("div",{className:a.form_input,children:[e.jsxs("div",{children:[e.jsx("input",{name:"confirm_password",id:"confirm_password",disabled:r,value:s.values.confirm_password,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"Confirma la contraseña",type:"password"}),e.jsx("label",{htmlFor:"confirm_password",children:"Confirma la contraseña"})]}),e.jsx("p",{children:s.touched.confirm_password&&s.errors.confirm_password})]}),e.jsx("div",{className:a.form_input,children:e.jsxs("div",{children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("p",{className:s.values.password?/[a-z]/.test(s.values.password)?a.success:a.error:"",children:"1 letra mayúscula"})}),e.jsx("li",{children:e.jsx("p",{className:s.values.password?/[A-Z]/.test(s.values.password)?a.success:a.error:"",children:"1 letra minúscula"})}),e.jsx("li",{children:e.jsx("p",{className:s.values.password?/\d/.test(s.values.password)?a.success:a.error:"",children:"1 número"})}),e.jsx("li",{children:e.jsx("p",{className:s.values.password?/[!@#$%^&*()_+{}\[\]:;<>,.?~\\-]/.test(s.values.password)?a.success:a.error:"",children:"1 carácter especial (por ejemplo, !@#$%&*)"})})]}),e.jsx("strong",{children:"La contraseña debe tener al menos 10 caracteres e incluir:"})]})}),e.jsxs("button",{type:"submit",disabled:r||!s.dirty||!s.isValid,className:a.btn_register,children:["Registrarse",r&&e.jsx("i",{className:"fas fa-spinner fa-pulse"})]}),e.jsx("div",{className:a.form_links,children:e.jsxs("p",{children:["¿Ya te has registrado?"," ",e.jsx(j,{to:`/${v.AUTH}/${f.LOGIN}`,children:"Inicia sesión"})]})})]})]})};export{C as default};
